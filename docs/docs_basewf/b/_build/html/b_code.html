

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Plug-in Classes &mdash; Fleur plugin 0.27 beta documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Fleur plugin 0.27 beta documentation" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Fleur plugin
          

          
          </a>

          
            
            
              <div class="version">
                0.27 beta
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="code.html">Plug-in Classes</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Fleur plugin</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Plug-in Classes</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/b_code.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="plug-in-classes">
<h1>Plug-in Classes<a class="headerlink" href="#plug-in-classes" title="Permalink to this headline">¶</a></h1>
<div class="section" id="fleur-input-generator-plug-in">
<h2>Fleur input generator plug-in<a class="headerlink" href="#fleur-input-generator-plug-in" title="Permalink to this headline">¶</a></h2>
<div class="section" id="fleurinputgen-calculation">
<h3>Fleurinputgen Calculation<a class="headerlink" href="#fleurinputgen-calculation" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="module-aiida_fleur.parsers.fleur_inputgen">
<span id="fleurinputgen-parser"></span><h3>Fleurinputgen Parser<a class="headerlink" href="#module-aiida_fleur.parsers.fleur_inputgen" title="Permalink to this headline">¶</a></h3>
<p>This module contains the parser for a inpgen run (calculation) and methods for
parsing different files produced by inpgen, which from the input for the FLEUR
code.</p>
<p>Please implement file parsing routines that they can be executed from outside
the parser. Makes testing and portability easier.</p>
<dl class="class">
<dt id="aiida_fleur.parsers.fleur_inputgen.Fleur_inputgenParser">
<em class="property">class </em><tt class="descclassname">aiida_fleur.parsers.fleur_inputgen.</tt><tt class="descname">Fleur_inputgenParser</tt><big>(</big><em>calc</em><big>)</big><a class="reference internal" href="_modules/aiida_fleur/parsers/fleur_inputgen.html#Fleur_inputgenParser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida_fleur.parsers.fleur_inputgen.Fleur_inputgenParser" title="Permalink to this definition">¶</a></dt>
<dd><p>This class is the implementation of the Parser class for the FLEUR inpgen.
It takes the files recieved from an inpgen calculation and creates AiiDA
nodes for the Database. From the inp.xml file a FleurinpData object is
created, also some information from the out file is stored in a
ParameterData node.</p>
<dl class="method">
<dt id="aiida_fleur.parsers.fleur_inputgen.Fleur_inputgenParser.parse_with_retrieved">
<tt class="descname">parse_with_retrieved</tt><big>(</big><em>retrieved</em><big>)</big><a class="reference internal" href="_modules/aiida_fleur/parsers/fleur_inputgen.html#Fleur_inputgenParser.parse_with_retrieved"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida_fleur.parsers.fleur_inputgen.Fleur_inputgenParser.parse_with_retrieved" title="Permalink to this definition">¶</a></dt>
<dd><p>Receives as input a dictionary of the retrieved nodes from an inpgen run.
Does all the logic here.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a dictionary of AiiDA nodes for storing in the database.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="fleur-input-data-structure">
<h2>Fleur input Data structure<a class="headerlink" href="#fleur-input-data-structure" title="Permalink to this headline">¶</a></h2>
<div class="section" id="fleurinpdata">
<h3>FleurinpData<a class="headerlink" href="#fleurinpdata" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="fleur-plug-in">
<h2>Fleur plug-in<a class="headerlink" href="#fleur-plug-in" title="Permalink to this headline">¶</a></h2>
<div class="section" id="fleur-calculation">
<h3>Fleur Calculation<a class="headerlink" href="#fleur-calculation" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="module-aiida_fleur.parsers.fleur">
<span id="fleur-parser"></span><h3>Fleur Parser<a class="headerlink" href="#module-aiida_fleur.parsers.fleur" title="Permalink to this headline">¶</a></h3>
<p>This module contains the parser for a FLEUR calculation and methods for parsing
different files produced by FLEUR.</p>
<p>Please implement file parsing routines that they can be executed from outside
the parser. Makes testing and portability easier.</p>
<dl class="class">
<dt id="aiida_fleur.parsers.fleur.FleurParser">
<em class="property">class </em><tt class="descclassname">aiida_fleur.parsers.fleur.</tt><tt class="descname">FleurParser</tt><big>(</big><em>calc</em><big>)</big><a class="reference internal" href="_modules/aiida_fleur/parsers/fleur.html#FleurParser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida_fleur.parsers.fleur.FleurParser" title="Permalink to this definition">¶</a></dt>
<dd><p>This class is the implementation of the Parser class for FLEUR.
It parses the FLEUR output if the calculation was successful,
i.e checks if all files are there that should be and their condition.
Then it parses the out.xml file and returns a (simple) parameterData node
with the results of the last iteration.
Other files (DOS.x, bands.x, ...) are also parsed if they are retrieved.</p>
<dl class="method">
<dt id="aiida_fleur.parsers.fleur.FleurParser.get_linkname_outparams_complex">
<tt class="descname">get_linkname_outparams_complex</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/aiida_fleur/parsers/fleur.html#FleurParser.get_linkname_outparams_complex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida_fleur.parsers.fleur.FleurParser.get_linkname_outparams_complex" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the name of the link to the output_complex
Node contains the Fleur output in a rather complex dictionary.</p>
</dd></dl>

<dl class="method">
<dt id="aiida_fleur.parsers.fleur.FleurParser.parse_with_retrieved">
<tt class="descname">parse_with_retrieved</tt><big>(</big><em>retrieved</em><big>)</big><a class="reference internal" href="_modules/aiida_fleur/parsers/fleur.html#FleurParser.parse_with_retrieved"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida_fleur.parsers.fleur.FleurParser.parse_with_retrieved" title="Permalink to this definition">¶</a></dt>
<dd><p>Receives in input a dictionary of retrieved nodes.
Does all the logic here. Checks presents of files.
Calls routines to parse them and returns parameter nodes and sucess.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Return successful:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Bool, if overall parsing was successful or not</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return new_nodes_list:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">list of tuples of two (linkname, Dataobject),
nodes to be stored by AiiDA</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="aiida_fleur.parsers.fleur.parse_bands_file">
<tt class="descclassname">aiida_fleur.parsers.fleur.</tt><tt class="descname">parse_bands_file</tt><big>(</big><em>bands_lines</em><big>)</big><a class="reference internal" href="_modules/aiida_fleur/parsers/fleur.html#parse_bands_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida_fleur.parsers.fleur.parse_bands_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the returned bands.1 and bands.2 file and returns a complete
bandsData object. bands.1 has the form: k value, energy</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>bands_lines</strong> &#8211; string of the read in bands file</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="aiida_fleur.parsers.fleur.parse_dos_file">
<tt class="descclassname">aiida_fleur.parsers.fleur.</tt><tt class="descname">parse_dos_file</tt><big>(</big><em>dos_lines</em><big>)</big><a class="reference internal" href="_modules/aiida_fleur/parsers/fleur.html#parse_dos_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida_fleur.parsers.fleur.parse_dos_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the returned DOS.X files.
Structure:
(100(1x,e10.3))   e,totdos,interstitial,vac1,vac2,
(at(i),i=1,ntype),((q(l,i),l=1,LMAX),i=1,ntype)
where e is the energy in eV (= 1/27.2 htr) at(i) is the local DOS of a
single atom of the i&#8217;th atom-type and q(l,i) is the l-resolved DOS at
the i&#8217;th atom but has to be multiplied by the number of atoms of this type.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dos_lines</strong> &#8211; string of the read in dos file</li>
<li><strong>number_of_atom_types</strong> &#8211; integer, number of atom types</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="aiida_fleur.parsers.fleur.parse_xmlout_file">
<tt class="descclassname">aiida_fleur.parsers.fleur.</tt><tt class="descname">parse_xmlout_file</tt><big>(</big><em>outxmlfile</em><big>)</big><a class="reference internal" href="_modules/aiida_fleur/parsers/fleur.html#parse_xmlout_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida_fleur.parsers.fleur.parse_xmlout_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the out.xml file of a FLEUR calculation
Receives as input the absolut path to the xml output file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>outxmlfile</strong> &#8211; path to out.xml file</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Returns xml_data_dict:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">a simple dictionary (QE output like) 
with parsed data</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Raises FleurOutputParsingError:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">for errors in the parsing?</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="fleur-tools-utility">
<h3>Fleur tools/utility<a class="headerlink" href="#fleur-tools-utility" title="Permalink to this headline">¶</a></h3>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Jens Broeder.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.27 beta',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>